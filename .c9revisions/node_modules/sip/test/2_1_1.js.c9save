{"ts":1340223166890,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var sip = require('../sip.js');\nvar assert = require('assert');\nvar udp = require('../udp.js');\nvar sys = require('sys');\n\nvar msg = {\n  uri: 'sip:test',\n  method: 'OPTIONS',\n  version: \"2.0\",\n  headers: {\n    via: [{version: \"2.0\", protocol: 'UDP', host: 'localhost', port: 5060, params: {branch:'12345'}}],\n  },\n  content: ''\n};\n\nvar transport = sip.makeTransport({}, function(m, remote) {\n  assert.deepEqual(m,msg);\n  assert.deepEqual(remote, {protocol:'UDP', address: sendSocket.address().address, port: sendSocket.address().port});\n  transport.destroy();\n  sendSocket.close();\n  sys.print('PASSED\\n');\n});\n\nvar sendSocket = udp.createSocket();\nvar s = sip.stringify(msg);\n\nsendSocket.connect(5060);\nsendSocket.send(new Buffer(s), 0, s.length);\n\n"]],"start1":0,"start2":0,"length1":0,"length2":750}]],"length":750}
