{"ts":1358250542419,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":true,"ts":1358250561730,"patch":[[{"diffs":[[1,"// npm install mongodb\r\nvar mongodb = require('mongodb');\r\nvar url = require('url');\r\nvar log = console.log;\r\n \r\nvar connectionUri = url.parse(process.env.MONGOHQ_URL);\r\nvar dbName = connectionUri.pathname.replace(/^\\//, '');\r\n \r\nmongodb.Db.connect(process.env.MONGOHQ_URL, function(error, client) {\r\n  if (error) throw error;\r\n \r\n  client.collectionNames(function(error, names){\r\n    if(error) throw error;\r\n \r\n    // output all collection names\r\n    log(\"Collections\");\r\n    log(\"===========\");\r\n    var lastCollection = null;\r\n    names.forEach(function(colData){\r\n      var colName = colData.name.replace(dbName + \".\", '')\r\n      log(colName);\r\n      lastCollection = colName;\r\n    });\r\n \r\n    var collection = new mongodb.Collection(client, lastCollection);\r\n    log(\"\\nDocuments in \" + lastCollection);\r\n    var documents = collection.find({}, {limit:5});\r\n \r\n    // output a count of all documents found\r\n    documents.count(function(error, count){\r\n      log(\"  \" + count + \" documents(s) found\");\r\n      log(\"====================\");\r\n \r\n      // output the first 5 documents\r\n      documents.toArray(function(error, docs) {\r\n        if(error) throw error;\r\n \r\n        docs.forEach(function(doc){\r\n          log(doc);\r\n        });\r\n      \r\n        // close the connection\r\n        client.close();\r\n      });\r\n    });\r\n  });\r\n});"]],"start1":0,"start2":0,"length1":0,"length2":1336}]],"length":1336,"saved":false}
{"ts":1358250586224,"patch":[[{"diffs":[[0,"l.parse("],[-1,"process.env.MONGOHQ_URL"],[1,"'mongodb://nodejitsu:a6c210fe6bc2c929d62073e97d632771@linus.mongohq.com:10067/nodejitsudb7436259011'"],[0,");\r\nvar "]],"start1":135,"start2":135,"length1":39,"length2":116}]],"length":1413,"saved":false}
{"ts":1358250662242,"patch":[[{"diffs":[[0,"ect("],[-1,"process.env.MONGOHQ_URL"],[1,"'mongodb://nodejitsu:a6c210fe6bc2c929d62073e97d632771@linus.mongohq.com:10067/nodejitsudb7436259011'"],[0,", fu"]],"start1":322,"start2":322,"length1":31,"length2":108}]],"length":1490,"saved":false}
